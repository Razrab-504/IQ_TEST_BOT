# üß† IQ Test Bot

Telegram-–±–æ—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤ —Å —Å–∏—Å—Ç–µ–º–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏.

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–ë–æ—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤, –∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º ‚Äî –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –∏—Ö –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –¥–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∏—Å—Ç–æ—Ä–∏—è –ø–æ–ø—ã—Ç–æ–∫.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
- ‚úÖ –ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ —Å –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–æ–π –æ—Ç–≤–µ—Ç–æ–≤
- üìä –ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å—Ç–æ—Ä–∏–∏ –≤—Å–µ—Ö –ø–æ–ø—ã—Ç–æ–∫
- üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–∞–∂–¥–æ–º—É —Ç–µ—Å—Ç—É

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤:
- ‚ûï –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º
- ‚ùì –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–æ–≤ (—Ñ–æ—Ä–º–∞—Ç: A/B/C)
- üóëÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤
- üìä –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: –ø–æ–ø—ã—Ç–∫–∏, —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, —Å—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Python 3.10+**
- **aiogram 3.x** ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è Telegram Bot API
- **SQLAlchemy 2.0** ‚Äî ORM —Å async –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π
- **PostgreSQL** ‚Äî —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **asyncpg** ‚Äî –¥—Ä–∞–π–≤–µ—Ä –¥–ª—è PostgreSQL
- **FSM** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ –¥–∏–∞–ª–æ–≥–∞

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
```bash
git clone https://github.com/yourusername/IQ_Test_bot.git
cd IQ_Test_bot
```

2. **–°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:**
```bash
python -m venv venv
source venv/bin/activate  # –¥–ª—è Linux/Mac
venv\Scripts\activate     # –¥–ª—è Windows
```

3. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
```bash
pip install -r requirements.txt
```

4. **–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`:**
```env
BOT_TOKEN=your_bot_token_here
DATABASE_URL=postgresql+asyncpg://user:password@localhost/dbname
ADMIN_IDS=123456789,987654321
```

5. **–°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:**
```bash
# –í PostgreSQL
createdb iq_test_db
```

6. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Ç–∞–±–ª–∏—Ü—ã:**
```bash
python -m src.db.create_tables
```

7. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:**
```bash
python main.py
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
IQ_Test_bot/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ bot/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ handlers/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin_handlers.py    # –•–µ–Ω–¥–ª–µ—Ä—ã –¥–ª—è –∞–¥–º–∏–Ω–æ–≤
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ user_handlers.py     # –•–µ–Ω–¥–ª–µ—Ä—ã –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ keyboards/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin_keyboard.py    # –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã –∞–¥–º–∏–Ω–∞
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ user_keyboard.py     # –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ filters/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ admin_filter.py      # –§–∏–ª—å—Ç—Ä –¥–ª—è –∞–¥–º–∏–Ω–æ–≤
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ user_filter.py       # –§–∏–ª—å—Ç—Ä –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ   ‚îî‚îÄ‚îÄ db/
‚îÇ       ‚îú‚îÄ‚îÄ config.py                # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ë–î
‚îÇ       ‚îú‚îÄ‚îÄ database.py              # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
‚îÇ       ‚îú‚îÄ‚îÄ create_tables.py         # –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü
‚îÇ       ‚îú‚îÄ‚îÄ models.py                # –ú–æ–¥–µ–ª–∏ SQLAlchemy
‚îÇ       ‚îî‚îÄ‚îÄ crud.py                  # CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ main.py                          # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ .env.example
‚îî‚îÄ‚îÄ README.md
```

## üóÑÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü—ã:
- **users** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –±–æ—Ç–∞
- **tests** ‚Äî —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
- **questions** ‚Äî –≤–æ–ø—Ä–æ—Å—ã —Ç–µ—Å—Ç–æ–≤
- **choices** ‚Äî –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤ (A, B, C)
- **attempts** ‚Äî –ø–æ–ø—ã—Ç–∫–∏ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤
- **answers** ‚Äî –æ—Ç–≤–µ—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã

### –°–≤—è–∑–∏:
- `tests` ‚Üê `questions` (–æ–¥–∏–Ω –∫–æ –º–Ω–æ–≥–∏–º)
- `questions` ‚Üê `choices` (–æ–¥–∏–Ω –∫–æ –º–Ω–æ–≥–∏–º)
- `users` ‚Üê `attempts` (–æ–¥–∏–Ω –∫–æ –º–Ω–æ–≥–∏–º)
- `tests` ‚Üê `attempts` (–æ–¥–∏–Ω –∫–æ –º–Ω–æ–≥–∏–º)
- `attempts` ‚Üê `answers` (–æ–¥–∏–Ω –∫–æ –º–Ω–æ–≥–∏–º)

## üéØ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞ (–∞–¥–º–∏–Ω):
```
1. –ù–∞–∂–∞—Ç—å "‚ûï –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç"
2. –í–≤–µ—Å—Ç–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ: "IQ Test"
3. –í–≤–µ—Å—Ç–∏ –æ–ø–∏—Å–∞–Ω–∏–µ: "–ü—Ä–æ–≤–µ—Ä—å —Å–≤–æ–π —É—Ä–æ–≤–µ–Ω—å IQ"
4. –î–æ–±–∞–≤–∏—Ç—å –≤–æ–ø—Ä–æ—Å—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ:

2+2=?
–í–∞—Ä–∏–∞–Ω—Ç—ã: A) 3 B) 4 C) 5
–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: B)

5. –û—Ç–ø—Ä–∞–≤–∏—Ç—å /done (–º–∏–Ω–∏–º—É–º 5 –≤–æ–ø—Ä–æ—Å–æ–≤)
```

### –ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å):
```
1. –ù–∞–∂–∞—Ç—å "üìù –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã"
2. –í—ã–±—Ä–∞—Ç—å —Ç–µ—Å—Ç
3. –û—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã, –Ω–∞–∂–∏–º–∞—è A, B –∏–ª–∏ C
4. –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:
```env
# –¢–æ–∫–µ–Ω –±–æ—Ç–∞ –æ—Ç @BotFather
BOT_TOKEN=123456789:ABCdefGHIjklMNOpqrsTUVwxyz

# URL –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL
DATABASE_URL=postgresql+asyncpg://user:password@localhost:5432/iq_test_db

# Telegram ID –∞–¥–º–∏–Ω–æ–≤ (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)
ADMIN_IDS=123456789,987654321
```

### –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å Telegram ID:
1. –ù–∞–ø–∏—à–∏—Ç–µ –±–æ—Ç—É [@userinfobot](https://t.me/userinfobot)
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–∞—à ID

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

**–ê–¥–º–∏–Ω—ã –≤–∏–¥—è—Ç –ø–æ –∫–∞–∂–¥–æ–º—É —Ç–µ—Å—Ç—É:**
- –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–π
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –°—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª –∏–∑ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç:**
- –°–ø–∏—Å–æ–∫ –ø—Ä–æ–π–¥–µ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
- –í—Å–µ —Å–≤–æ–∏ –ø–æ–ø—ã—Ç–∫–∏ —Å –±–∞–ª–ª–∞–º–∏
- –î–∞—Ç—É –∏ –≤—Ä–µ–º—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è

## üöÄ –î–µ–ø–ª–æ–π

### –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ (Linux):

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PostgreSQL:**
```bash
sudo apt update
sudo apt install postgresql postgresql-contrib
```

2. **–°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:**
```bash
sudo -u postgres psql
CREATE DATABASE iq_test_db;
CREATE USER botuser WITH PASSWORD 'yourpassword';
GRANT ALL PRIVILEGES ON DATABASE iq_test_db TO botuser;
\q
```

3. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç**
4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —á–µ—Ä–µ–∑ systemd –∏–ª–∏ screen**

### Docker (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
```dockerfile
FROM python:3.10-slim

WORKDIR /app

COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

COPY . .

CMD ["python", "main.py"]
```
```yaml
# docker-compose.yml
version: '3.8'

services:
  bot:
    build: .
    env_file: .env
    depends_on:
      - db
    restart: unless-stopped

  db:
    image: postgres:15
    environment:
      POSTGRES_DB: iq_test_db
      POSTGRES_USER: botuser
      POSTGRES_PASSWORD: yourpassword
    volumes:
      - postgres_data:/var/lib/postgresql/data

volumes:
  postgres_data:
```

–ó–∞–ø—É—Å–∫:
```bash
docker-compose up -d
```

## üìù TODO

- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ç–∞–π–º–µ—Ä –¥–ª—è —Ç–µ—Å—Ç–æ–≤
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ –≤–æ–ø—Ä–æ—Å–∞—Ö
- [ ] –≠–∫—Å–ø–æ—Ä—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ Excel/PDF
- [ ] –†–µ–π—Ç–∏–Ω–≥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- [ ] –ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç—å (i18n)
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- [ ] Unit-—Ç–µ—Å—Ç—ã –¥–ª—è CRUD –æ–ø–µ—Ä–∞—Ü–∏–π

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

- –ù–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è –æ—Ç –ë–î
- –ü—Ä–∏ –Ω–µ–∑–∞–≤–µ—Ä—à—ë–Ω–Ω–æ–º —Ç–µ—Å—Ç–µ —Å–æ–∑–¥–∞—é—Ç—Å—è –∑–∞–ø–∏—Å–∏ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `in_progress`

## ü§ù –ö–æ–Ω—Ç—Ä–∏–±—å—é—Ü–∏—è

Pull requests –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è! –î–ª—è –±–æ–ª—å—à–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–Ω–∞—á–∞–ª–∞ –æ—Ç–∫—Ä–æ–π—Ç–µ issue.

1. Fork –ø—Ä–æ–µ–∫—Ç–∞
2. –°–æ–∑–¥–∞–π—Ç–µ feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit –∏–∑–º–µ–Ω–µ–Ω–∏—è (`git commit -m 'Add some AmazingFeature'`)
4. Push –≤ branch (`git push origin feature/AmazingFeature`)
5. –û—Ç–∫—Ä–æ–π—Ç–µ Pull Request

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

## üë§ –ê–≤—Ç–æ—Ä

Razrab-504 ‚Äî [Telegram](@motivator6438) | [GitHub](https://github.com/Razrab-504)

---

‚≠êÔ∏è –ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –ø–æ–Ω—Ä–∞–≤–∏–ª—Å—è, –ø–æ—Å—Ç–∞–≤—å—Ç–µ –∑–≤–µ–∑–¥—É –Ω–∞ GitHub!
